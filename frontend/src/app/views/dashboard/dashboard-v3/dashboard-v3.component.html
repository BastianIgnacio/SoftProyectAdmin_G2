<div class="breadcrumb">
    <h1>Proyecto X</h1>
    <ul>
        <li><a href="">Dashboard</a></li>
        <li>Ver Proyecto</li>
    </ul>
</div>
<div class="separator-breadcrumb border-top"></div>

<div class="row">
    <div class="col-lg-8 col-md-12">
        <!-- CARD ICON -->
        <div class="row">
            <div class="col-lg-2 col-md-6 col-sm-6">
              <div class="card card-icon mb-4">
                  <div class="card-body text-center">
                      <i class="i-Address-Book"></i>
                      <p class="text-muted mt-2 mb-2"> Agreagar Requisito </p>

                      <!--button _ngcontent-tkm-c169="" class="btn btn-primary btn-rounded" (click)="addCourse(addCourseConfirmModal, $event)" > Agregar </button-->
                  </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-6 col-sm-6">
              <div class="card card-icon mb-4">
                  <div class="card-body text-center">
                      <i class="i-Add-User"></i>
                      <p class="text-muted mt-2 mb-2"> Agregar Caso de Uso </p>
                      <!--button _ngcontent-tkm-c169="" class="btn btn-primary btn-rounded" (click)="addGuestTeacher(addGuestTeacherConfirmModal, $event)" > Agregar </button-->
                  </div>
              </div>
            </div>
        </div>
	</div>


<!-- TABLA PARA VER LOS REQUISITOS DE USUARIOS O SISTEMA O BIEN LOS CASOS DE USO REPRESENTADOS POR TIPO (RU - RS - CU), NUMERO, NOMBRE Y ESTADO -->
    <div class="col-md-12">
      <div class="card o-hidden mb-4">
          <ngx-datatable style="height: calc(100vh - 270px); box-shadow: none" class="material fullscreen"
              [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="60" [scrollbarV]="true"
              [scrollbarH]="true" [limit]="10" [rows]="cursos" [loadingIndicator]="cargando">

              <ngx-datatable-column name="name" [flexGrow]="25">
                  <ng-template ngx-datatable-header-template>
                      <label>
                          Tipo
                      </label>
                  </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="year" [flexGrow]="25">
                  <ng-template ngx-datatable-header-template>
                      <label>
                          Numero
                      </label>
                  </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="semester" [flexGrow]="25">
                  <ng-template ngx-datatable-header-template>
                      <label>
                          Nombre
                      </label>
                  </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="idUser" [flexGrow]="20">
                  <ng-template ngx-datatable-header-template>
                      <label>
                          Estado
                      </label>
                  </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column [cellClass]="'va-middle'" name="Accion" [flexGrow]="5" [sortable]="false" prop="id">
                  <ng-template ngx-datatable-cell-template let-value="value">
                      <button class="btn btn-sm btn-outline-danger" (click)="deleteData(value, deleteConfirmModal, $event)"><i
                          class="i-Close-Window icon-md"></i></button>
                  </ng-template>
                </ngx-datatable-column>
          </ngx-datatable>
      </div>
  </div>





<!-- VENTANA MODAL QUE SE DESPLEGA PARA CONFIRMAR LA ELIMINACIÓN DE UN DATO-->
<ng-template #deleteConfirmModal let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-title">Eliminación de usuario</h4>
      <button type="button" class="close" aria-label="Close button" aria-describedby="modal-title"
        (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <p><strong>¿Estas seguro de querer eliminar este elemento?</strong></p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-secondary btn-rounded"
        (click)="modal.dismiss('cancel')">Cancelar</button>
      <button type="button" ngbAutofocus class="btn btn-wide btn-danger btn-rounded"
        (click)="modal.close('Ok')">Borrar</button>
    </div>
  </ng-template>

  <!-- VENTANA MODAL QUE SE DESPLEGA PARA AGREGAR UN REQUISITO -->
<ng-template #addCourseConfirmModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-title">Agregar un Requisito</h4>
    <button type="button" class="close" aria-label="Close button" aria-describedby="modal-title"
      (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="addCourseForm" (ngSubmit)="addCourse()" >
      <table class="table">
        <tbody>
        <tr>
          <td>Nombre:</td>
          <td><input type="text" formControlName="name" ng-model="email.text" size="25" maxlength="100" required></td>
        </tr>
        <tr>
          <td>Fuente:</td>
          <td><input type="text" formControlName="source" ng-model="email.text" size="25" maxlength="100" required></td>
        </tr>
        <tr>
          <td>Tipo de Requisito:</td>
          <td>
            <div>
              <select class="form-control" id="requirimentType" formControlName="tipoRequisito" required>
                <option value="" selected disabled> Seleccionar Opcion</option>
                <option value="Usuario"> Usuario </option>
                <option value="Sistema"> Sistema </option>
              </select>
            </div>
          </td>
		</tr>
		<tr>
			<td>Costo:</td>
			<td><input type="number" formControlName="cost" ng-model="cost.number" size="25" maxlength="100" required></td>
		  </tr>
		  <tr>
			<td>Estabilidad:</td>
			<td><input type="text" formControlName="stability" ng-model="email.text" size="25" maxlength="100" required></td>
		  </tr>
		  <tr>
			<td>Prioridad:</td>
			<td><input type="text" formControlName="priority" ng-model="email.text" size="25" maxlength="100" required></td>
		  </tr>
		  <tr>
			<td>Estado:</td>
			<td><input type="text" formControlName="state" ng-model="email.text" size="25" maxlength="100" required></td>
		  </tr>
		  <tr>
			<td>Tipo:</td>
			<td><input type="text" formControlName="type" ng-model="email.text" size="25" maxlength="100" required></td>
		  </tr>
        </tbody>
      </table>
      <div *ngIf="!checked">
          <label style="color:red;"><b>* Todos los campos deben ser completados.</b></label>
      </div>
    </form>

  </div>
  <div class="modal-footer">
    <button type="button" ngbAutofocus class="btn btn-wide btn-success btn-rounded"
      (click)="((this.addCourseForm.invalid)?checked=false:modal.close('Ok'))">Agregar </button>
    <button type="button" class="btn btn-outline-secondary btn-rounded"
      (click)="modal.dismiss('cancel')">Cancelar</button>
  </div>
</ng-template>

  <!-- VENTANA MODAL QUE SE DESPLEGA PARA AGREGAR UN CASO DE USO -->
  <ng-template #addCourseConfirmModal let-modal>
	<div class="modal-header">
	  <h4 class="modal-title" id="modal-title">Agregar un Caso de Uso</h4>
	  <button type="button" class="close" aria-label="Close button" aria-describedby="modal-title"
		(click)="modal.dismiss('Cross click')">
		<span aria-hidden="true">&times;</span>
	  </button>
	</div>
	<div class="modal-body">
	  <form [formGroup]="addCourseForm" (ngSubmit)="addCourse()" >
		<table class="table">
		  <tbody>
		  <tr>
			<td>Nombre:</td>
			<td><input type="text" formControlName="name" ng-model="email.text" size="25" maxlength="100" required></td>
		  </tr>
		  <tr>
			<td>Resultado:</td>
			<td>
			  <div>
				<select class="form-control" id="requirimentType" formControlName="tipoRequisito" required>
				  <option value="" selected disabled> Seleccionar Opcion</option>
				  <option value="Aceptado"> Aceptado </option>
				  <option value="Rechazado"> Rechazado </option>
				</select>
			  </div>
			</td>
		  </tr>
		  <tr>
			  <td>Estado:</td>
			  <td><input type="text" formControlName="state" ng-model="email.text" size="25" maxlength="100" required></td>
			</tr>
		  </tbody>
		</table>
		<div *ngIf="!checked">
			<label style="color:red;"><b>* Todos los campos deben ser completados.</b></label>
		</div>
	  </form>
  
	</div>
	<div class="modal-footer">
	  <button type="button" ngbAutofocus class="btn btn-wide btn-success btn-rounded"
		(click)="((this.addCourseForm.invalid)?checked=false:modal.close('Ok'))">Agregar </button>
	  <button type="button" class="btn btn-outline-secondary btn-rounded"
		(click)="modal.dismiss('cancel')">Cancelar</button>
	</div>
  </ng-template>


</div>
